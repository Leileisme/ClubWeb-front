import{y as L,z as M,R as f,A as H,o as V,B as y,a5 as U,a6 as Y,C as B,D as o,H as K,E as T,F as r,K as h,J as g,v as l,P as c,G,Q as k,Z as w}from"./index-55945f57.js";import{V as x,a as Z}from"./VAppBarTitle-9a3e962c.js";import{V as b}from"./VContainer-8bbe5f5a.js";import"./ssrBoot-ab6ba0d9.js";const Q={__name:"EventDetailView",setup(z){const{apiAuth:S}=w(),_=L(),A=M(),I=f(),{xs:i}=H(),v=V(()=>i.value),R=()=>{_.go(-1)},e=y({TITLE:"",DATE:"",CITY:"",ADD:"",ADD_REMARK:"",IS_PUBLIC:"",CATEGORY:[],PRE_SALE:"",ON_SITE_SALE:"",SCORE_VALUES:"",DESCRIPTION:"",IMAGE:"",HOST:[],CO_ORGANIZER:[],TICKET:[],LIKES:[],KEEPS:[],REACH:"",IS_EDIT:"",POST:[],PHOTO:[],YEAR:"",MONTH:"",DAY:"",MINUTE_START:"",MINUTE_END:"",HOUR_START:"",HOUR_END:"",YY_MM_DD:""});U("routeEvent",e);const D=async()=>{var a,u;try{const{data:t}=await S.get("/events/"+A.params.id),[s,E,n]=t.result.DATE.split(" "),[O,p,d]=s.split("/"),[m,C]=[E.slice(0,2),E.slice(2)],[N,P]=[n.slice(0,2),n.slice(2)];e.value.TITLE=t.result.TITLE,e.value.DATE=t.result.DATE,e.value.CITY=t.result.CITY,e.value.ADD=t.result.ADD,e.value.ADD_REMARK=t.result.ADD_REMARK,e.value.IS_PUBLIC=t.result.IS_PUBLIC,e.value.CATEGORY=t.result.CATEGORY,e.value.PRE_SALE=t.result.PRE_SALE,e.value.ON_SITE_SALE=t.result.ON_SITE_SALE,e.value.SCORE_VALUES=t.result.SCORE_VALUES,e.value.DESCRIPTION=t.result.DESCRIPTION,e.value.IMAGE=t.result.IMAGE,e.value.HOST=t.result.HOST,e.value.CO_ORGANIZER=t.result.CO_ORGANIZER,e.value.TICKET=t.result.TICKET,e.value.LIKES=t.result.LIKES,e.value.KEEPS=t.result.KEEPS,e.value.REACH=t.result.REACH,e.value.IS_EDIT=t.result.IS_EDIT,e.value.POST=t.result.POST,e.value.PHOTO=t.result.PHOTO,e.value.YEAR=O,e.value.MONTH=p.padStart(2,"0"),e.value.DAY=d.padStart(2,"0"),e.value.MINUTE_START=C.padStart(2,"0"),e.value.MINUTE_END=P.padStart(2,"0"),e.value.HOUR_START=m.padStart(2,"0"),e.value.HOUR_END=N.padStart(2,"0"),e.value.YY_MM_DD=s,document.title=`學生社團 | ${e.value.TITLE}`}catch(t){console.log(t);const s=((u=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:u.message)||"發生錯誤，請稍後再試";I({text:s,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return Y(async()=>{await D(),console.log(e.value,"routeEvent.value in")}),(a,u)=>{const t=B("RouterView");return o(),K(g,null,[v.value?(o(),T(x,{key:0},{default:r(()=>[l(b,{class:"align-center justify-space-around d-flex"},{default:r(()=>[l(c,{icon:"mdi-chevron-left",style:{"font-size":"1.4rem"},onClick:R}),l(Z,{class:"text-h5"},{default:r(()=>[G(k(e.value.TITLE),1)]),_:1}),l(c,{icon:"mdi-menu",style:{"font-size":"1.25rem"}})]),_:1})]),_:1})):h("",!0),(o(),T(t,{key:a.$route.fullPath}))],64)}}};export{Q as default};
