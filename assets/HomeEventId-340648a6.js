import{y as P,D as f,E as I,F as t,v as e,a5 as le,a6 as $,a7 as N,Y as h,Q as d,P as Z,G as n,a8 as oe,z as se,a9 as ae,x as ne,o as c,A as ue,B as i,H as w,J as V,L as u,I as M,M as x,O as b,K as H}from"./index-f0f73421.js";import{_ as g,a as re}from"./InfoAll-e8ab9940.js";import{V as k,a as s}from"./VRow-1154696c.js";import{V as z}from"./VContainer-2cbe15cf.js";import{V as ie,a as G}from"./VTabs-c5d85ce7.js";import{V as de}from"./VDivider-1a42be06.js";import{V as ce,a as K,b as fe}from"./VWindowItem-431dadc3.js";import"./BlankLine-d1cefcee.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ssrBoot-b3726a23.js";const me={class:"me-2",style:{"font-size":"1.1rem"}},_e={class:"",style:{"font-size":"1rem"}},D={__name:"EventHostCard",props:{item:{type:Object,default:()=>({EMAIL:"",ROLE:"",SCHOOL_NAME:"",SCHOOL_CITY:"",USER_NAME:"",NICK_NAME:"",CLUB_TH:"",CLUB_CATEGORY:"",IMAGE:"",TICKET_CART:[],SCORES:"",NOTIFY:[],KEEP_POST:[],KEEP_EVENT:[],FANS:[],FOLLOW:[],IS_STUDENT:"",IS_ABLE:"",IS_ADMIN:"",DESCRIBE:""})}},setup(_){const v=P(),E=_,l=()=>{E.item.USER_NAME?v.push(`/${E.item.USER_NAME}`):(console.log(E.item.USER_NAME,"props.item.USER_NAME"),console.error("props.item.USER_NAME is not defined or empty"))};return(r,U)=>(f(),I(oe,{class:"rounded-lg",style:{"max-width":"400px"}},{default:t(()=>[e(le,null,{default:t(()=>[e(k,{style:{"padding-top":"3px","padding-bottom":"3px"},class:"d-flex align-center"},{default:t(()=>[e(s,{cols:"3"},{default:t(()=>[e($,{size:"80%",onClick:l,style:{cursor:"pointer"}},{default:t(()=>[e(N,{src:_.item.IMAGE},null,8,["src"])]),_:1})]),_:1}),e(s,{cols:"9",style:{}},{default:t(()=>[e(k,null,{default:t(()=>[e(s,{cols:"8",class:"d-flex align-center",onClick:l,style:{cursor:"pointer",color:"#25ECE0"}},{default:t(()=>[h("span",me,d(_.item.NICK_NAME),1),h("span",_e,"第"+d(_.item.CLUB_TH)+"屆",1)]),_:1}),e(s,{cols:"4",class:"d-flex align-center"},{default:t(()=>[e(Z,{color:"#1BBCA9",style:{height:"30px"}},{default:t(()=>[n("追蹤")]),_:1})]),_:1}),e(s,{cols:"10",style:{"padding-top":"0"}},{default:t(()=>[n(d(_.item.DESCRIBE),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ee={class:"me-5"},pe={class:"me-5"},Ae={__name:"HomeEventId",setup(_){const v=P(),E=se(),l=ae("routeEvent"),r=ne(),U=c(()=>l.value.HOST._id===r._id||l.value.CO_ORGANIZER.some(m=>m._id===r._id)?!1:l.value.PRE_SALE-l.value.TICKET.length===0),j=c(()=>l.value.HOST._id===r._id||l.value.CO_ORGANIZER.some(m=>m._id===r._id)?"取票狀態":l.value.PRE_SALE-l.value.TICKET.length===0?"預售票掃空":"馬上取票"),{xs:F}=ue(),R=c(()=>F.value),Y=c(()=>R.value?16/9:8/3),W=c(()=>R.value?3:2),J=c(()=>R.value?"margin-bottom:5px;":"margin-bottom:15px;"),p=i("one"),Q=c(()=>p.value==="one"?"color:#25ECE0; border:1.8px #25ECE0 solid;":"color:#fff; border:1.8px rgba(204,204,204,0.5) solid;"),X=c(()=>p.value==="two"?"color:#25ECE0; border:1.8px #25ECE0 solid;":"color:#fff; border:1.8px rgba(204,204,204,0.5) solid;"),S=i(!1),q=i("已經取過票溜！"),A=i(!1),L=i("Sorry！榮譽積分不足～快參加活動賺積分(-`д´-)"),T=i(!1),ee=i("ㄚ！晚了一步，預售票沒有啦～"),C=i(!1),B=i(""),y=()=>{S.value=!1,A.value=!1,C.value=!1,T.value=!1,v.push(`/event/${E.params.id}`)},te=async()=>{var m,a;if(l.value.HOST._id===r._id||l.value.CO_ORGANIZER.some(o=>o._id===r._id)){console.log("這邊要跳出 取票狀態表單");return}if(r.SCORES<l.value.SCORE_VALUES)A.value=!0;else if(l.value.PRE_SALE-l.value.TICKET.length===0)T.value=!0;else if(l.value.TICKET.some(o=>o.USER===r._id))S.value=!0;else try{v.push(`/event/${E.params.id}/ticket`)}catch(o){console.log(o);const O=((a=(m=o==null?void 0:o.response)==null?void 0:m.data)==null?void 0:a.message)||"發生錯誤，請稍後再試";B.value=O,C.value=!0}};return(m,a)=>(f(),w(V,null,[e(z,{style:{padding:"0","max-width":"800px"}},{default:t(()=>[e(s,{cols:"12",style:{padding:"0","padding-bottom":"12px"}},{default:t(()=>[e(N,{"aspect-ratio":Y.value,cover:"",src:u(l).IMAGE,style:{display:""}},null,8,["aspect-ratio","src"])]),_:1}),e(z,null,{default:t(()=>[e(k,null,{default:t(()=>[e(s,{cols:"10",style:{}},{default:t(()=>[(f(!0),w(V,null,M(u(l).CATEGORY,(o,O)=>(f(),I(fe,{key:O,class:"me-2 custom-chip",color:"#25ECE0",label:"",small:""},{default:t(()=>[n(d(o),1)]),_:2},1024))),128))]),_:1}),e(s,{cols:"2",class:"d-flex justify-end"},{default:t(()=>[e(x,{style:{color:"#999"},class:"me-5"},{default:t(()=>[n("mdi-bookmark-multiple-outline")]),_:1}),e(x,{style:{color:"#999"}},{default:t(()=>[n("mdi-cards-heart-outline")]),_:1})]),_:1}),e(s,{cols:W.value,class:"d-flex justify-center",style:{"background-color":""}},{default:t(()=>[e($,{size:"96%"},{default:t(()=>[e(N,{src:u(l).HOST.IMAGE},null,8,["src"])]),_:1})]),_:1},8,["cols"]),e(s,{cols:"9",style:{"font-size":"1.5rem","font-weight":"900"},class:"d-flex align-center"},{default:t(()=>[n(d(u(l).TITLE),1)]),_:1}),e(s,{cols:"12",style:{color:"#999","padding-top":"0","padding-bottom":"0","font-size":"1rem"},class:"d-flex align-center justify-end"},{default:t(()=>[e(x,{style:{"font-size":"1.1rem"},class:"me-1"},{default:t(()=>[n("mdi-eye-outline ")]),_:1}),h("span",Ee,d(u(l).REACH),1),e(x,{style:{"font-size":"1.1rem"},class:"me-1"},{default:t(()=>[n("mdi-cards-heart-outline")]),_:1}),h("span",pe,d(u(l).LIKES.length),1),e(Z,{color:"#1BBCA9",style:{"font-weight":"900"},onClick:te,disabled:U.value,class:"okBtn"},{default:t(()=>[n(d(j.value),1)]),_:1},8,["disabled"])]),_:1}),e(re),e(s,{cols:"12"},{default:t(()=>[e(ie,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),"align-tabs":"start"},{default:t(()=>[e(G,{value:"one",class:"rounded-ts-xl me-2",style:b([{"min-width":"80px"},Q.value])},{default:t(()=>[n("活動內容")]),_:1},8,["style"]),e(G,{value:"two",class:"rounded-ts-xl me-2",style:b([{"min-width":"80px"},X.value])},{default:t(()=>[n("直播/動態")]),_:1},8,["style"])]),_:1},8,["modelValue"]),e(de,{color:"#fff",class:"border-opacity-50"})]),_:1}),e(ce,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=o=>p.value=o),style:{width:"100%"}},{default:t(()=>[e(K,{value:"one"},{default:t(()=>[e(s,{cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[n("活動介紹")]),_:1}),e(s,{cols:"12"},{default:t(()=>[n(d(u(l).DESCRIPTION),1)]),_:1}),e(s,{cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[n("主辦單位")]),_:1}),e(s,{cols:"12"},{default:t(()=>[e(D,{item:u(l).HOST},null,8,["item"])]),_:1}),u(l).CO_ORGANIZER.length>0?(f(),I(s,{key:0,cols:"12"})):H("",!0),u(l).CO_ORGANIZER.length>0?(f(),I(s,{key:1,cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[n("協辦單位")]),_:1})):H("",!0),e(s,{cols:"12"},{default:t(()=>[(f(!0),w(V,null,M(u(l).CO_ORGANIZER,o=>(f(),I(D,{key:o._id,item:o},null,8,["item"]))),128))]),_:1})]),_:1}),e(K,{value:"two"})]),_:1},8,["modelValue"]),e(s,{style:b(J.value)},null,8,["style"])]),_:1})]),_:1})]),_:1}),e(g,{InfoSwitch:A.value,InfoText:L.value,closeInfo:y,"onUpdate:InfoSwitch":a[2]||(a[2]=o=>L.value=o)},null,8,["InfoSwitch","InfoText"]),e(g,{InfoSwitch:S.value,InfoText:q.value,closeInfo:y,"onUpdate:InfoSwitch":a[3]||(a[3]=o=>S.value=o)},null,8,["InfoSwitch","InfoText"]),e(g,{InfoSwitch:T.value,InfoText:ee.value,closeInfo:y,"onUpdate:InfoSwitch":a[4]||(a[4]=o=>T.value=o)},null,8,["InfoSwitch","InfoText"]),e(g,{InfoSwitch:C.value,InfoText:B.value,closeInfo:y,"onUpdate:InfoSwitch":a[5]||(a[5]=o=>C.value=o)},null,8,["InfoSwitch","InfoText"])],64))}};export{Ae as default};
