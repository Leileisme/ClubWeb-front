import{y as Z,D as c,E,F as t,v as e,a5 as ae,a6 as q,a7 as N,Y as v,Q as i,P as x,G as o,a8 as S,o as f,a9 as U,aa as z,ab as M,ac as L,ad as D,z as oe,ae as se,x as ne,A as ue,B as g,H as R,J as O,L as u,I as $,M as A,O as w,K,Z as re}from"./index-2c84da56.js";import{_ as de}from"./EventInfo-6cb905e3.js";import{V as T,a as l}from"./VRow-f6d3c515.js";import{V as F}from"./VContainer-890da109.js";import{V as ce,a as j}from"./VTabs-58698bcf.js";import{V as ie}from"./VDivider-44f7bf0d.js";import{V as fe,a as P,b as me}from"./VWindowItem-97aeaf4e.js";import"./BlankLine-f4bb729f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ssrBoot-1fdea0c9.js";const pe={class:"me-2",style:{"font-size":"1.1rem"}},_e={class:"",style:{"font-size":"1rem"}},Y={__name:"EventHostCard",props:{item:{type:Object,default:()=>({EMAIL:"",ROLE:"",SCHOOL_NAME:"",SCHOOL_CITY:"",USER_NAME:"",NICK_NAME:"",CLUB_TH:"",CLUB_CATEGORY:"",IMAGE:"",TICKET_CART:[],SCORES:"",NOTIFY:[],KEEP_POST:[],KEEP_EVENT:[],FANS:[],FOLLOW:[],IS_STUDENT:"",IS_ABLE:"",IS_ADMIN:"",DESCRIBE:""})}},setup(r){const m=Z(),d=r,s=()=>{d.item.USER_NAME?m.push(`/${d.item.USER_NAME}`):(console.log(d.item.USER_NAME,"props.item.USER_NAME"),console.error("props.item.USER_NAME is not defined or empty"))};return(p,y)=>(c(),E(S,{class:"rounded-lg",style:{"max-width":"400px"}},{default:t(()=>[e(ae,null,{default:t(()=>[e(T,{style:{"padding-top":"3px","padding-bottom":"3px"},class:"d-flex align-center"},{default:t(()=>[e(l,{cols:"3"},{default:t(()=>[e(q,{size:"80%",onClick:s,style:{cursor:"pointer"}},{default:t(()=>[e(N,{src:r.item.IMAGE},null,8,["src"])]),_:1})]),_:1}),e(l,{cols:"9",style:{}},{default:t(()=>[e(T,null,{default:t(()=>[e(l,{cols:"8",class:"d-flex align-center",onClick:s,style:{cursor:"pointer",color:"#25ECE0"}},{default:t(()=>[v("span",pe,i(r.item.NICK_NAME),1),v("span",_e,"第"+i(r.item.CLUB_TH)+"屆",1)]),_:1}),e(l,{cols:"4",class:"d-flex align-center"},{default:t(()=>[e(x,{color:"#1BBCA9",style:{height:"30px"}},{default:t(()=>[o("追蹤")]),_:1})]),_:1}),e(l,{cols:"10",style:{"padding-top":"0"}},{default:t(()=>[o(i(r.item.DESCRIBE),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ee={__name:"TextBack",props:{textBack:{type:String,required:!0},closeInfo:{type:Function,required:!0},backInfo:{type:Boolean,required:!0}},emits:["update:backInfo"],setup(r,{emit:m}){const d=r,s=m,p=f({get:()=>d.backInfo,set:y=>s("update:backInfo",y)});return(y,V)=>(c(),E(D,{modelValue:p.value,"onUpdate:modelValue":V[0]||(V[0]=C=>p.value=C),"max-width":"290"},{default:t(()=>[e(S,{class:"rounded-lg"},{default:t(()=>[e(U),e(z,{class:"headline text-center",style:{"font-size":"1.2rem"}},{default:t(()=>[v("span",null,i(r.textBack),1)]),_:1}),e(M,null,{default:t(()=>[e(L),e(x,{color:"#1BBCA9",style:{"font-weight":"900"},onClick:r.closeInfo},{default:t(()=>[o("關閉")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},ye={class:"me-5"},Ce={class:"me-5"},he={__name:"HomeEventId",setup(r){const m=Z(),d=oe(),s=se("routeEvent"),p=ne(),{apiAuth:y}=re(),{xs:V}=ue(),C=f(()=>V.value),Q=f(()=>C.value?16/9:8/3),W=f(()=>C.value?3:2),J=f(()=>C.value?"margin-bottom:5px;":"margin-bottom:15px;"),_=g("one"),X=f(()=>_.value==="one"?"color:#25ECE0; border:1.8px #25ECE0 solid;":"color:#fff; border:1.8px rgba(204,204,204,0.5) solid;"),ee=f(()=>_.value==="two"?"color:#25ECE0; border:1.8px #25ECE0 solid;":"color:#fff; border:1.8px rgba(204,204,204,0.5) solid;"),I=g(!1),b=g(!1),k=g(!1),G=g(""),h=()=>{I.value=!1,b.value=!1,k.value=!1,m.push(`/event/${d.params.id}`)},te=async()=>{var B,n;if(p.SCORES<s.value.SCORE_VALUES)b.value=!0;else try{if((await y.get(`/events/${d.params.id}`)).data.result.TICKET.some(le=>le.USER===p._id)){I.value=!0;return}m.push(`/event/${d.params.id}/ticket`)}catch(a){console.log(a),G.value=((n=(B=a==null?void 0:a.response)==null?void 0:B.data)==null?void 0:n.message)||"發生錯誤，請稍後再試QQ",k.value=!0}};return(B,n)=>(c(),R(O,null,[e(F,{style:{padding:"0","max-width":"800px"}},{default:t(()=>[e(l,{cols:"12",style:{padding:"0","padding-bottom":"12px"}},{default:t(()=>[e(N,{"aspect-ratio":Q.value,cover:"",src:u(s).IMAGE,style:{display:""}},null,8,["aspect-ratio","src"])]),_:1}),e(F,null,{default:t(()=>[e(T,null,{default:t(()=>[e(l,{cols:"10",style:{}},{default:t(()=>[(c(!0),R(O,null,$(u(s).CATEGORY,(a,H)=>(c(),E(me,{key:H,class:"me-2 custom-chip",color:"#25ECE0",label:"",small:""},{default:t(()=>[o(i(a),1)]),_:2},1024))),128))]),_:1}),e(l,{cols:"2",class:"d-flex justify-end"},{default:t(()=>[e(A,{style:{color:"#999"},class:"me-5"},{default:t(()=>[o("mdi-bookmark-multiple-outline")]),_:1}),e(A,{style:{color:"#999"}},{default:t(()=>[o("mdi-cards-heart-outline")]),_:1})]),_:1}),e(l,{cols:W.value,class:"d-flex justify-center",style:{"background-color":""}},{default:t(()=>[e(q,{size:"96%"},{default:t(()=>[e(N,{src:u(s).HOST.IMAGE},null,8,["src"])]),_:1})]),_:1},8,["cols"]),e(l,{cols:"9",style:{"font-size":"1.5rem","font-weight":"900"},class:"d-flex align-center"},{default:t(()=>[o(i(u(s).TITLE),1)]),_:1}),e(l,{cols:"12",style:{color:"#999","padding-top":"0","padding-bottom":"0","font-size":"1rem"},class:"d-flex align-center justify-end"},{default:t(()=>[e(A,{style:{"font-size":"1.1rem"},class:"me-1"},{default:t(()=>[o("mdi-eye-outline ")]),_:1}),v("span",ye,i(u(s).REACH),1),e(A,{style:{"font-size":"1.1rem"},class:"me-1"},{default:t(()=>[o("mdi-cards-heart-outline")]),_:1}),v("span",Ce,i(u(s).LIKES.length),1),e(x,{color:"#1BBCA9",style:{"font-weight":"900"},onClick:te},{default:t(()=>[o("馬上取票")]),_:1})]),_:1}),e(de),e(l,{cols:"12"},{default:t(()=>[e(ce,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=a=>_.value=a),"align-tabs":"start"},{default:t(()=>[e(j,{value:"one",class:"rounded-ts-xl me-2",style:w([{"min-width":"80px"},X.value])},{default:t(()=>[o("活動內容")]),_:1},8,["style"]),e(j,{value:"two",class:"rounded-ts-xl me-2",style:w([{"min-width":"80px"},ee.value])},{default:t(()=>[o("直播/動態")]),_:1},8,["style"])]),_:1},8,["modelValue"]),e(ie,{color:"#fff",class:"border-opacity-50"})]),_:1}),e(fe,{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=a=>_.value=a),style:{width:"100%"}},{default:t(()=>[e(P,{value:"one"},{default:t(()=>[e(l,{cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[o("活動介紹")]),_:1}),e(l,{cols:"12"},{default:t(()=>[o(i(u(s).DESCRIPTION),1)]),_:1}),e(l,{cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[o("主辦單位")]),_:1}),e(l,{cols:"12"},{default:t(()=>[e(Y,{item:u(s).HOST},null,8,["item"])]),_:1}),u(s).CO_ORGANIZER.length>0?(c(),E(l,{key:0,cols:"12"})):K("",!0),u(s).CO_ORGANIZER.length>0?(c(),E(l,{key:1,cols:"12",style:{color:"#25ECE0","font-size":"0.9rem","font-weight":"bold","padding-bottom":"0px"}},{default:t(()=>[o("協辦單位")]),_:1})):K("",!0),e(l,{cols:"12"},{default:t(()=>[(c(!0),R(O,null,$(u(s).CO_ORGANIZER,a=>(c(),E(Y,{key:a._id,item:a},null,8,["item"]))),128))]),_:1})]),_:1}),e(P,{value:"two"})]),_:1},8,["modelValue"]),e(l,{style:w(J.value)},null,8,["style"])]),_:1})]),_:1})]),_:1}),e(D,{modelValue:I.value,"onUpdate:modelValue":n[2]||(n[2]=a=>I.value=a),"max-width":"290"},{default:t(()=>[e(S,{class:"rounded-lg"},{default:t(()=>[e(U),e(z,{class:"headline text-center",style:{"font-size":"1.2rem"}},{default:t(()=>[o("已經取過票溜!")]),_:1}),e(M,null,{default:t(()=>[e(L),e(x,{color:"#1BBCA9",style:{"font-weight":"900"},onClick:h},{default:t(()=>[o("關閉")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(D,{modelValue:b.value,"onUpdate:modelValue":n[3]||(n[3]=a=>b.value=a),"max-width":"290"},{default:t(()=>[e(S,{class:"rounded-lg"},{default:t(()=>[e(U),e(z,{class:"headline text-center",style:{"font-size":"1.2rem"}},{default:t(()=>[e(T,null,{default:t(()=>[e(l,{cols:"12",style:{"padding-bottom":"0"}},{default:t(()=>[o("Sorry！榮譽積分不足～快參加活動賺積分(-`д´-)")]),_:1})]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(L),e(x,{color:"#1BBCA9",style:{"font-weight":"900"},onClick:h},{default:t(()=>[o("關閉")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Ee,{backInfo:k.value,textBack:G.value,closeInfo:h,"onUpdate:backInfo":n[4]||(n[4]=a=>k.value=a)},null,8,["backInfo","textBack"])],64))}};export{he as default};
