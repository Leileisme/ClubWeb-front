import{R as I,A as M,o as C,B as p,D as l,H as _,v as a,F as e,_ as B,J as g,E as c,M as R,G as o,K as S,I as b,Z as w,a3 as y,a4 as V,Q as u}from"./index-55945f57.js";import{V as z}from"./VMenu-a033557d.js";import{V as m,a as U,b as D}from"./VList-2d7bd3ee.js";import{V as i,a as s}from"./VRow-c1fb15ad.js";import{V as j}from"./VDivider-7d9b1768.js";import"./ssrBoot-ab6ba0d9.js";const J={__name:"PostView",setup(L){const{apiAuth:v}=w(),E=I(),{xs:h}=M(),x=C(()=>h.value),n=p(""),d=p([]),k=async()=>{var f,r;try{const{data:t}=await v.get("/users/getUser",{params:{search:n.value,role:"1,2,3"}});d.value=t.result.data,console.log(t,"data")}catch(t){console.log(t);const N=((r=(f=t==null?void 0:t.response)==null?void 0:f.data)==null?void 0:r.message)||"發生錯誤，請稍後再試";E({text:N,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},A=()=>{n.value=""};return(f,r)=>(l(),_(g,null,[a(B,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=t=>n.value=t),label:"搜尋","prepend-inner-icon":"mdi-magnify","single-line":"",variant:"outlined","hide-details":"",onInput:k,id:"searchBtn",style:{position:"relative",padding:"1rem","max-width":"800px"}},{default:e(()=>[n.value!==""?(l(),c(m,{key:0,icon:"",onClick:A,style:{position:"absolute",right:"1rem",padding:"0",cursor:"pointer"}},{default:e(()=>[a(R,null,{default:e(()=>[o("mdi-close")]),_:1})]),_:1})):S("",!0)]),_:1},8,["modelValue"]),a(z,{activator:"#searchBtn"},{default:e(()=>[a(U,null,{default:e(()=>[d.value.length>0?(l(!0),_(g,{key:0},b(d.value,t=>(l(),c(m,{key:t.id,value:t.USER_NAME,to:"/"+t.USER_NAME},{default:e(()=>[x.value?(l(),c(i,{key:0,style:{margin:"5px"}},{default:e(()=>[a(s,{cols:"3",class:"d-flex justify-center align-center"},{default:e(()=>[a(y,{size:"100%"},{default:e(()=>[a(V,{src:t.IMAGE},null,8,["src"])]),_:2},1024)]),_:2},1024),a(s,{cols:"9",class:"d-flex justify-center align-center"},{default:e(()=>[a(i,null,{default:e(()=>[a(s,{cols:"12",style:{padding:"0",margin:"0","font-size":"1.1rem",color:"#25ECE0"}},{default:e(()=>[o(u(t.USER_NAME),1)]),_:2},1024),a(s,{cols:"12",style:{padding:"0",margin:"0","font-size":"0.8rem",color:"#cccccc"}},{default:e(()=>[o(u(t.NICK_NAME),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(l(),c(i,{key:1,style:{margin:"5px"}},{default:e(()=>[a(s,{cols:"1",class:"d-flex justify-center align-center me-3",style:{height:"45px"}},{default:e(()=>[a(y,{size:"220%"},{default:e(()=>[a(V,{src:t.IMAGE},null,8,["src"])]),_:2},1024)]),_:2},1024),a(s,{cols:"9",class:"d-flex justify-center align-center"},{default:e(()=>[a(i,null,{default:e(()=>[a(s,{cols:"12",style:{padding:"0",margin:"0","font-size":"1.1rem",color:"#25ECE0"}},{default:e(()=>[o(u(t.USER_NAME),1)]),_:2},1024),a(s,{cols:"12",style:{padding:"0",margin:"0","font-size":"0.8rem",color:"#cccccc"}},{default:e(()=>[o(u(t.NICK_NAME),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)),a(j)]),_:2},1032,["value","to"]))),128)):(l(),c(m,{key:1},{default:e(()=>[a(D,null,{default:e(()=>[o("無搜尋結果")]),_:1})]),_:1}))]),_:1})]),_:1})],64))}};export{J as default};
